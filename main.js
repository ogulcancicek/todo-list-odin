(()=>{"use strict";const t=class{constructor(t){this.name=t,this.tasks=[]}getTasks(){return this.tasks}setTasks(t){this.tasks=t}getTask(t){return this.tasks.find((e=>e.getTaskTitle===t))}addTask(t){this.tasks.find((e=>e.getTaskTitle===t.name))||this.tasks.push(t)}deleteTask(t){this.tasks.pop(t)}contains(t){return this.tasks.find((e=>e.getTaskTitle===t))}},e=class{constructor(t,e){this.title=t,this.dueDate=e}get getTaskTitle(){return this.title}get getDueDate(){return this.dueDate}setTaskTitle(t){this.title=t}setDueDate(t){this.dueDate=t}},s=class{constructor(){this.projects=[],this.projects.push(new t("Inbox")),this.projects.push(new t("Today")),this.projects.push(new t("This Week"))}setProjects(t){this.projects=t}getProjects(){return this.projects}addProject(t){this.projects.find((e=>e.name===t.name))||this.projects.push(t)}deleteProject(t){const e=this.projects.find((e=>e.name===t));this.projects.splice(this.projects.splice(this.projects.indexOf(e),1))}contains(t){return this.projects.find((e=>e.name===t))}getProject(t){return this.projects.find((e=>e.name===t))}};class a{static saveTodoList(t){localStorage.setItem("todolist",JSON.stringify(t))}static getTodoList(){let a;try{a=Object.assign(new s,JSON.parse(localStorage.getItem("todolist")))}catch(t){a=new s}return a.setProjects(a.getProjects().map((e=>Object.assign(new t,e)))),a.getProjects().forEach((t=>t.setTasks(t.getTasks().map((t=>Object.assign(new e,t)))))),a}static addProject(t){const e=a.getTodoList();e.addProject(t),a.saveTodoList(e)}static deleteProject(t){const e=a.getTodoList();e.deleteProject(t),a.saveTodoList(e)}static addTask(t,e){const s=a.getTodoList();s.getProject(t).addTask(e),a.saveTodoList(s)}static deleteTask(t,e){const s=a.getTodoList();s.getProject(t).deleteTask(e),a.saveTodoList(s)}static renameTask(t,e,s){const n=a.getTodoList();n.getProject(t).getTask(e).setTaskTitle(s),a.saveTodoList(n)}static setTaskDate(t,e,s){const n=a.getTodoList();n.getProject(t).getTask(e).setDueDate(s),a.saveTodoList(n)}}const n=a;var c;(c=(s=>{const a=s.querySelector("#content"),c=t=>{const e=s.querySelector(".todo-content-container"),a=s.querySelector(".task-add-btn");q(),n.getTodoList().getProject(t).getTasks().forEach((t=>{e.insertBefore(d(t.getTaskTitle,t.getDueDate),a)}))},o=()=>{const t=s.createElement("div");t.classList.add("input-popup","project-popup");const e=s.createElement("input");e.setAttribute("type","text"),e.setAttribute("placeholder","New Project"),e.setAttribute("maxlength","16"),t.appendChild(e);const a=s.createElement("div");a.classList.add("input-buttons");const n=s.createElement("button");n.setAttribute("id","add-btn"),n.textContent="Add";const c=s.createElement("button");return c.textContent="Cancel",c.setAttribute("id","cancel-btn"),n.addEventListener("click",l),c.addEventListener("click",v),a.appendChild(n),a.appendChild(c),t.appendChild(a),t},i=()=>{const t=s.createElement("div");t.classList.add("input-popup","task-popup");const e=s.createElement("input");e.setAttribute("type","text"),e.setAttribute("placeholder","New Task"),e.setAttribute("maxlength","64"),t.appendChild(e);const a=s.createElement("div");a.classList.add("input-buttons");const n=s.createElement("button");n.setAttribute("id","add-btn"),n.textContent="Add";const c=s.createElement("button");return c.textContent="Cancel",c.setAttribute("id","cancel-btn"),n.addEventListener("click",p),c.addEventListener("click",y),a.appendChild(n),a.appendChild(c),t.appendChild(a),t},r=t=>{const e=s.createElement("button");return e.classList.add("sidebar-item","project-item"),e.textContent=t,e.addEventListener("click",S),e},d=(t,e)=>{const a=s.createElement("div");a.classList.add("task-container");const n=s.createElement("div");n.classList.add("task-title-container");const c=s.createElement("p");c.classList.add("task-title"),c.textContent=t,c.addEventListener("click",C),n.appendChild(c);const o=s.createElement("input");o.setAttribute("id","set-task-title"),o.setAttribute("type","text"),o.classList.add("task-title-input"),o.addEventListener("keypress",k),n.appendChild(o);const i=s.createElement("div");i.classList.add("task-option-container");const r=s.createElement("div");r.classList.add("due-date-container");const d=s.createElement("p");d.classList.add("due-date"),d.textContent=""===e?"No date":e,d.addEventListener("click",E,!1),r.appendChild(d);const l=s.createElement("input");l.setAttribute("id","dateInput"),l.setAttribute("type","date"),l.classList.add("task-date-input"),l.addEventListener("change",L,!1),r.appendChild(l);const p=s.createElement("button");return p.classList.add("task-remove-button"),p.textContent="X",p.addEventListener("click",j,!1),i.appendChild(r),i.appendChild(p),a.appendChild(n),a.appendChild(i),a},l=()=>{const e=s.querySelector(".user-projects"),a=s.querySelector(".project-add-btn"),c=s.querySelector(".project-popup > input"),o=c.value;if(""!==o){if(n.getTodoList().contains(o))return c.value="",void alert("Project names must be different!");n.addProject(new t(o)),e.insertBefore(r(o),a),v()}else alert("Project name can't be empty")},p=()=>{const t=s.querySelector(".todo-list-title").textContent,a=s.querySelector(".todo-content-container"),c=s.querySelector(".task-add-btn"),o=s.querySelector(".task-popup > input"),i=o.value;if(""!==i){if(n.getTodoList().getProject(t).contains(i))return alert("Task names must be different!"),void(o.value="");n.addTask(t,new e(i,"")),a.insertBefore(d(i),c),y()}else alert("Task title can't be empty")},u=()=>{s.querySelector(".app-container").appendChild((()=>{const t=s.createElement("div");return t.classList.add("sidebar"),(t=>{const e=s.createElement("div");e.classList.add("sidebar-item-container");const a=["Inbox","Today","This Week"];for(let t of a){const a=s.createElement("button");a.classList.add("sidebar-item"),a.textContent=t,e.appendChild(a)}t.append(e);const n=s.createElement("div");n.classList.add("user-projects");const c=s.createElement("h1");c.textContent="Projects",c.classList.add("user-projects-title");const i=s.createElement("button");i.classList.add("sidebar-item","project-add-btn"),i.innerHTML='<i class="fa-solid fa-plus"></i>  Add Project',n.appendChild(c),n.appendChild(i),n.append(o()),t.appendChild(n)})(t),t})()),f()},h=()=>{const t=s.querySelector(".app-container"),e=(()=>{const t=s.createElement("div");return t.classList.add("todo-container"),t})();g(e),t.appendChild(e),x()},g=t=>{const e=((t,e=[])=>{const a=s.createElement("div");a.classList.add("todo-content-container");const n=s.createElement("h1");n.classList.add("todo-list-title"),n.textContent=t;const c=s.createElement("button");return c.classList.add("task-add-btn"),c.addEventListener("click",i),c.innerHTML='<i class="fa-solid fa-plus"></i>  Add Task',a.appendChild(n),a.appendChild(c),a})("Inbox");e.appendChild(i()),t.appendChild(e)},L=t=>{const e=t.target,a=e.value,c=s.querySelector(".todo-list-title").textContent,o=e.parentNode.parentNode.parentNode.querySelector(".task-title").textContent;e.classList.toggle("active");const i=t.target.parentNode.querySelector(".due-date");i.classList.toggle("active"),n.setTaskDate(c,o,a),i.textContent=a},k=t=>{const e=s.querySelector(".todo-list-title").textContent,a=t.target.value;if("Enter"!==t.key)return;if(""===t.target.value)return void alert("Task title can't be empty");t.target.classList.toggle("active");const c=t.target.parentNode.querySelector(".task-title");c.classList.toggle("active"),n.renameTask(e,c.textContent,a),c.textContent=a},b=()=>{s.querySelector(".sidebar").classList.toggle("active")},m=()=>{s.querySelector(".project-add-btn").classList.add("active"),s.querySelector(".project-popup").classList.add("active")},v=()=>{s.querySelector(".project-add-btn").classList.remove("active"),s.querySelector(".project-popup").classList.remove("active"),s.querySelector(".project-popup > input").value=""},T=()=>{s.querySelector(".task-add-btn").classList.add("active"),s.querySelector(".task-popup").classList.add("active")},y=()=>{s.querySelector(".task-add-btn").classList.remove("active"),s.querySelector(".task-popup").classList.remove("active"),s.querySelector(".task-popup > input").value=""},E=t=>{t.target.classList.toggle("active"),t.target.parentNode.querySelector(".task-date-input").classList.toggle("active")},C=t=>{t.target.classList.toggle("active"),t.target.parentNode.querySelector(".task-title-input").classList.toggle("active"),t.target.parentNode.querySelector(".task-title-input").value=t.target.textContent},j=t=>{const e=s.querySelector(".todo-content-container"),a=t.target.parentNode.parentNode;e.removeChild(a)},S=t=>{const e=s.querySelector(".todo-list-title"),a=t.target.textContent;e.textContent=a,c(a),window.outerWidth<=650&&b()},q=()=>{const t=s.querySelector(".todo-content-container");s.querySelectorAll(".task-container").forEach((e=>{t.removeChild(e)}))},f=()=>{s.querySelector(".sidebar-item-container").querySelectorAll(".sidebar-item").forEach((t=>{t.addEventListener("click",S)})),s.querySelector(".project-add-btn").addEventListener("click",m)},x=()=>{s.querySelector(".task-add-btn").addEventListener("click",T)};return{InitializeWebsiteLayout:(t="Inbox")=>{a.appendChild((()=>{const t=s.createElement("nav"),e=s.createElement("div");return e.classList.add("container","nav-content"),t.appendChild(e),t})()),s.querySelector(".nav-content").appendChild((()=>{const t=s.createElement("button");return t.classList.add("toggle-btn"),t.innerHTML='<i class="fa-solid fa-bars"></i>',t.addEventListener("click",b),t})()),s.querySelector(".nav-content").appendChild((()=>{const t=s.createElement("h4");return t.classList.add("text-logo"),t.innerHTML='<i class="fa-solid fa-list-check"></i> Todo App',t})()),(()=>{const t=s.querySelector(".nav-content"),e=(()=>{const t=s.createElement("div");t.classList.add("checkbox-con");const e=s.createElement("input");e.setAttribute("id","checkbox"),e.setAttribute("type","checkbox"),e.classList.add("checkbox");const a=s.createElement("label");a.setAttribute("for","checkbox"),a.classList.add("label");const n=s.createElement("i");n.classList.add("fas","fa-moon");const c=s.createElement("i");c.classList.add("fas","fa-sun");const o=s.createElement("div");return o.classList.add("ball"),a.appendChild(n),a.appendChild(c),a.appendChild(o),t.appendChild(e),t.appendChild(a),t})();e.addEventListener("change",(()=>{s.body.classList.toggle("dark"),s.querySelector(".toggle-btn").classList.toggle("dark"),s.querySelectorAll(".sidebar-item").forEach((t=>{t.classList.toggle("dark")})),s.querySelector(".task-add-btn").classList.toggle("dark"),s.querySelector(".sidebar").classList.toggle("dark")})),t.appendChild(e)})(),a.appendChild((()=>{const t=s.createElement("div");return t.classList.add("app-container"),t})()),u(),h(),a.appendChild((()=>{const t=s.createElement("footer");return t.innerHTML='<p class="footer-text">Copyright © 2022 ogulcancicek</p>',t})()),(()=>{const t=s.querySelector(".user-projects"),e=s.querySelector(".project-add-btn");n.getTodoList().getProjects().forEach((s=>{"Inbox"!==s.name&&"Today"!==s.name&&"This Week"!==s.name&&t.insertBefore(r(s.name),e)}))})(),c(t)}}})(document),{initializeWebsite:()=>{c.InitializeWebsiteLayout()}}).initializeWebsite()})();